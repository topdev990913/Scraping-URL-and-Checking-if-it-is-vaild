<!DOCTYPE html>
<html lang="en">

<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Text to Speech with MP3 Download</title>
</head>

<body>
<h1>Text to Speech</h1>
<textarea id="text-to-read" rows="5" cols="40" placeholder="Enter text here..."></textarea>
<br>
<button onclick="speakText()">Speak</button>
<button onclick="downloadMP3()">Download MP3</button>

<script>
function speakText() {

const textToRead = document.getElementById("text-to-read").value;
// Create a new SpeechSynthesisUtterance instance
const speakData = new SpeechSynthesisUtterance();
// Set the text to be spoken
speakData.volume = 0.8; // From 0 to 1
speakData.rate = 1; // From 0.1 to 10
speakData.pitch = 1; // From 0 to 2
speakData.text = textToRead;
//speakData.lang = 'nl-NL';   
//speakData.lang = 'pl-PL';   
speakData.lang = 'ro-RO';     
  
// Use the SpeechSynthesis API to speak the text
window.speechSynthesis.speak(speakData);

}

function downloadMP3() {
const textToRead = document.getElementById("text-to-read").value;
const blob = new Blob([textToRead], { type: 'audio/mpeg' });
const url = URL.createObjectURL(blob);

const a = document.createElement('a');
a.href = url;
a.download = 'speech.mp3';
a.click();

URL.revokeObjectURL(url);
}
</script>
</body>

</html>